<html id="all" style="background-color:black">
    <head>
        <script src="../jscolor.js" type="text/javascript"></script>
        <script src="../jquery-3.4.1.min.js" type="text/javascript"></script>
        <script>
            setTimeout(function(){
                $("#saveSettingsBtn").click(function(event){
                    console.log("save settings button clicked!");
                    $("#modal").hide();
                    transition = $("#cssTransitionSpeed").val() || 0;
                    delay = $("#otherColorDelay").val() || 100;
                    defaultColor = $("#defaultColor").val();
                    otherColor = $("#otherColor").val();
                    $("#all").keypress(function( event ) {
                        event.preventDefault();
                        console.log(event.which);
                        var all = $("#all");
                        var otherTransitionStyle = "background:#"+otherColor+";-webkit-transition:background "+transition+"s;-moz-transition:background "+transition+"s;-o-transition:background "+transition+"s;transition:background "+transition+"s";
                        var defaultTransitionStyle = "background:#"+defaultColor+";-webkit-transition:background "+transition+"s;-moz-transition:background "+transition+"s;-o-transition:background "+transition+"s;transition:background "+transition+"s";
                        console.log("otherTransitionStyle: " + otherTransitionStyle);
                        console.log("defaultTransitionStyle: " + defaultTransitionStyle);
                        $("#all").attr("style",otherTransitionStyle);
                        setTimeout(function(){
                            $("#all").attr("style",defaultTransitionStyle);
                        },delay);
                    });
                });
            },200);
        </script>
    </head>
    <body>
        <div id="modal">
            <label style="color:white">Default color:</label><input id="defaultColor" class="jscolor" value="000000"></input>
            <label style="color:white">Other Color:</label><input id="otherColor" class="jscolor" value="FFFFFF"></input>
            <input type="text" id="otherColorDelay" placeholder="Delay in milliseconds"></input>
            <input type="text" id="cssTransitionSpeed" placeholder="Transition speed (secs)"></input>
            <button type="button" id="saveSettingsBtn">Set up page</button>
        </div>
    </body>
</html>